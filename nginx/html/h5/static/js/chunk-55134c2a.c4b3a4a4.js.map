{"version":3,"sources":["webpack:///./src/views/pay/Alipay.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/common/tool.ts","webpack:///./src/views/pay/Alipay.vue?775a","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/pay/Alipay.vue?27ba"],"names":["accept-charset","id","method","action","getPayInfo","type","name","payParam","MerId","OrderNo","OrderAmount","CurrCode","CallBackUrl","OrderType","BankCode","LangType","BuzType","Reserved01","Reserved02","SignMsg","class","href","target","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","u","navigator","userAgent","r","test","$tool","tool","setup","state","isalipay","ctx","console","log","$router","currentRoute","value","query","src","encodeURI","window","location","origin","gotoPay","document","getElementById","submit","http","post","then","res","data","render","__scopeId","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","k","len","E","this","A","n","arguments"],"mappings":"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","file":"static/js/chunk-55134c2a.c4b3a4a4.js","sourcesContent":["<!--\r\n * @Descripttion: 支付宝支付页面\r\n * @version: \r\n * @Author: zyc\r\n * @Date: 2020-11-17 14:38:12\r\n * @LastEditors: zyc\r\n * @LastEditTime: 2020-12-28 16:17:41\r\n-->\r\n<template>\r\n  <div>\r\n    <h3>支付宝</h3>\r\n    <button @click=\"getPayInfo()\">前往支付</button>\r\n\r\n    <form\r\n      accept-charset=\"UTF-8\"\r\n      id=\"submit\"\r\n      method=\"post\"\r\n      action=\"http://test.gnetpg.com:8089/GneteMerchantAPI/api/PayV36\"\r\n    >\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"MerId\"\r\n        v-model=\"payParam.MerId\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"OrderNo\"\r\n        v-model=\"payParam.OrderNo\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"OrderAmount\"\r\n        v-model=\"payParam.OrderAmount\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"CurrCode\"\r\n        v-model=\"payParam.CurrCode\"\r\n      />\r\n\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"CallBackUrl\"\r\n        v-model=\"payParam.CallBackUrl\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"OrderType\"\r\n        v-model=\"payParam.OrderType\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"BankCode\"\r\n        v-model=\"payParam.BankCode\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"LangType\"\r\n        v-model=\"payParam.LangType\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"BuzType\"\r\n        v-model=\"payParam.BuzType\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"Reserved01\"\r\n        v-model=\"payParam.Reserved01\"\r\n      />\r\n      <input\r\n        type=\"hidden\"\r\n        name=\"Reserved02\"\r\n        v-model=\"payParam.Reserved02\"\r\n      />\r\n      <input\r\n        id=\"SignMsg\"\r\n        type=\"hidden\"\r\n        name=\"SignMsg\"\r\n        v-model=\"payParam.SignMsg\"\r\n      />\r\n    </form>\r\n    <br />\r\n    <a\r\n      id=\"go-app\"\r\n      class=\"go-app\"\r\n      :href=\"href\"\r\n      target=\"_blank\"\r\n    >前往支付宝App</a>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  reactive,\r\n  toRefs,\r\n  defineComponent,\r\n  onMounted,\r\n  nextTick,\r\n  getCurrentInstance,\r\n} from \"vue\";\r\nimport http from \"../../common/http\";\r\nimport tool from \"../../common/tool\";\r\nconst $tool = new tool();\r\nexport default defineComponent({\r\n  name: \"Alipay\",\r\n  setup() {\r\n    const state = reactive({\r\n      payParam: {},\r\n      href: \"\",\r\n      isalipay: $tool.isalipay(),\r\n    });\r\n    const { ctx } = getCurrentInstance();\r\n    console.log(ctx.$router.currentRoute.value.query.id)\r\n    const src = encodeURI(\r\n      `${window.location.origin}${process.env.BASE_URL}alipay?id=${ctx.$router.currentRoute.value.query.id}`\r\n    );\r\n    state.href = `alipays://platformapi/startapp?saId=10000007&qrcode=${src}`;\r\n    const gotoPay = () => {\r\n      nextTick(() => {\r\n        document.getElementById(\"submit\").submit();\r\n      });\r\n    };\r\n    const getPayInfo = () => {\r\n      http\r\n        .post(\"/sales-api/finance/payment/getUnionPayParameter\", {\r\n          id: ctx.$router.currentRoute.value.query.id,\r\n        })\r\n        .then((res) => {\r\n          state.payParam = { ...res.data };\r\n          gotoPay();\r\n        });\r\n    };\r\n    if (state.isalipay) {\r\n      getPayInfo();\r\n    }\r\n    onMounted(() => {\r\n      // getPayInfo();\r\n    });\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      getPayInfo,\r\n      gotoPay,\r\n    };\r\n  },\r\n});\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.go-app {\r\n  color: #fff;\r\n  background: #07a0f8;\r\n  display: inline-block;\r\n  box-sizing: border-box;\r\n}\r\n</style>","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","/*\r\n * @Descripttion: 工具类函数\r\n * @version: \r\n * @Author: zyc\r\n * @Date: 2020-11-17 14:35:39\r\n * @LastEditors: wwq\r\n * @LastEditTime: 2020-12-23 15:02:47\r\n */\r\ninterface Itool {\r\n  /**\r\n * 是否微信环境\r\n * @param {type} \r\n * @return: \r\n */\r\n  iswexin(): boolean;\r\n  /**\r\n   * 是否支付宝环境\r\n   * @param {type} \r\n   * @return: \r\n   */\r\n  isalipay(): boolean;\r\n  /**\r\n   * 获取静态文件全路径\r\n   * @param {type} \r\n   * @return: \r\n   */\r\n}\r\nclass Tool implements Itool {\r\n  isalipay(): boolean {\r\n    const u = navigator.userAgent;\r\n    const r = /AlipayClient/i.test(u);\r\n    return r;\r\n  }\r\n  iswexin(): boolean {\r\n    const u = navigator.userAgent;\r\n    const r = /micromessenger/i.test(u);\r\n    return r;\r\n  }\r\n}\r\n\r\nexport default Tool;","import { render } from \"./Alipay.vue?vue&type=template&id=1e6d1ea2&scoped=true&bindings={}\"\nimport script from \"./Alipay.vue?vue&type=script&lang=js\"\nexport * from \"./Alipay.vue?vue&type=script&lang=js\"\n\nimport \"./Alipay.vue?vue&type=style&index=0&id=1e6d1ea2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1e6d1ea2\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Alipay.vue?vue&type=style&index=0&id=1e6d1ea2&lang=scss&scoped=true\""],"sourceRoot":""}