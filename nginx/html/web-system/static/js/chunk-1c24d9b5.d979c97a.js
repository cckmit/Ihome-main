(window["webpackJsonp_ihome-system"]=window["webpackJsonp_ihome-system"]||[]).push([["chunk-1c24d9b5"],{"2c20":function(e,t,n){"use strict";var r=n("4068"),a=n.n(r);a.a},4068:function(e,t,n){},"5aea":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f}));n("96cf");var r=n("1da1"),a=n("89df");function i(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/user/organization",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/user/list",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/system/resource/category",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/system/role/list",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/system/user/list",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}},"9fed":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("99af");var r=n("d4ec"),a=n("bee2"),i=n("262e"),l=n("2caf"),o=n("9ab4"),s=n("6fc5"),u=n("0613"),c=function(e){Object(i["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.list=[],e.modular=[{value:"Root",label:"资源根节点"},{value:"System",label:"系统"},{value:"Service",label:"服务模块"},{value:"Menu",label:"功能菜单"},{value:"Api",label:"API"},{value:"Button",label:"按钮"},{value:"Element",label:"元素"}],e.defaultModular="",e.defaultOption=[{value:"",label:"请选择"}],e.modularAll=[{value:"",label:"请选择"},{value:"Root",label:"资源根节点"},{value:"System",label:"系统"},{value:"Service",label:"服务模块"},{value:"Menu",label:"功能菜单"},{value:"Api",label:"API"},{value:"Button",label:"按钮"},{value:"Element",label:"元素"}],e.departmentType=[{value:"Business",label:"营业线"},{value:"Function",label:"职能线"}],e.orgType=[{value:"Company",label:"公司"},{value:"Department",label:"部门"}],e.orgStatus=[{value:"Valid",label:"有效"},{value:"Invalid",label:"无效"}],e}return Object(a["a"])(n,[{key:"setModular",value:function(e){this.modularAll=this.defaultOption.concat(e),console.log(this.modularAll)}},{key:"getModular",value:function(){return this.modular}},{key:"getOrgTypeName",value:function(e){for(var t=null,n=0;n<this.orgType.length;n++){var r=this.orgType[n];if(r.value==e){t=r;break}}return t}}]),n}(s["d"]);Object(o["a"])([s["c"]],c.prototype,"setModular",null),Object(o["a"])([s["a"]],c.prototype,"getModular",null),Object(o["a"])([s["c"]],c.prototype,"getOrgTypeName",null),c=Object(o["a"])([Object(s["b"])({dynamic:!0,store:u["a"],name:"dictionaries",namespaced:!0})],c);var p=Object(s["e"])(c)},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),i=n("a691"),l=n("50c4"),o=n("7b0b"),s=n("65f0"),u=n("8418"),c=n("1dde"),p=n("ae40"),d=c("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,r,c,p,d,f,v=o(this),y=l(v.length),w=a(e,y),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=y-w):(n=k-2,r=m(g(i(t),0),y-w)),y+n-r>h)throw TypeError(b);for(c=s(v,r),p=0;p<r;p++)d=w+p,d in v&&u(c,p,v[d]);if(c.length=r,n<r){for(p=w;p<y-r;p++)d=p+r,f=p+n,d in v?v[f]=v[d]:delete v[f];for(p=y;p>y-r+n;p--)delete v[p-1]}else if(n>r)for(p=y-r;p>w;p--)d=p+r-1,f=p+n-1,d in v?v[f]=v[d]:delete v[f];for(p=0;p<n;p++)v[p+w]=arguments[p+2];return v.length=y-r+n,c}})},ffdd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ih-page",{scopedSlots:e._u([{key:"form",fn:function(){return[n("el-form",{ref:"form",attrs:{"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-row",[n("el-col",{staticClass:"text-left",attrs:{span:2}},[n("el-button",{attrs:{type:"success"},on:{click:function(t){return e.add({})}}},[e._v("添加")])],1),n("el-col",{staticClass:"text-right",attrs:{span:22}},[n("el-input",{staticClass:"input-with-select",staticStyle:{width:"300px"},attrs:{placeholder:"名称 编码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getListMixin(t)}},model:{value:e.queryPageParameters.key,callback:function(t){e.$set(e.queryPageParameters,"key",t)},expression:"queryPageParameters.key"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.getListMixin()}},slot:"append"})],1)],1)],1)],1)]},proxy:!0},{key:"table",fn:function(){return[n("br"),n("el-table",{staticClass:"ih-table",attrs:{data:e.resPageInfo.list}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),n("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),n("el-table-column",{attrs:{prop:"code",label:"编码",width:"180"}}),n("el-table-column",{attrs:{prop:"remark",label:"描述"}}),n("el-table-column",{attrs:{prop:"createUserName",label:"创建人",width:"90"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"150"}}),n("el-table-column",{attrs:{prop:"updateUserName",label:"修改人",width:"90"}}),n("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",width:"150"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.info(t)}}},[e._v("详情")]),n("el-dropdown",{staticStyle:{"margin-left":"15px"},attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link"},[e._v(" 更多 "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(n){return n.preventDefault(),e.edit(t)}}},[e._v("编辑")]),n("el-dropdown-item",{nativeOn:{click:function(n){return n.preventDefault(),e.remove(t)}}},[e._v("删除")]),n("el-dropdown-item",{nativeOn:{click:function(n){return n.preventDefault(),e.assignRole(t)}}},[e._v("分配角色")])],1)],1)]}}])})],1)]},proxy:!0},{key:"pagination",fn:function(){return[n("br"),n("el-pagination",{attrs:{"current-page":e.queryPageParameters.pageNum,"page-sizes":e.$root.pageSizes,"page-size":e.queryPageParameters.pageSize,layout:e.$root.paginationLayout,total:e.resPageInfo.total},on:{"size-change":e.handleSizeChangeMixin,"current-change":e.handleCurrentChangeMixin,"update:currentPage":function(t){return e.$set(e.queryPageParameters,"pageNum",t)},"update:current-page":function(t){return e.$set(e.queryPageParameters,"pageNum",t)}}})]},proxy:!0}])},[n("ih-dialog",{attrs:{show:e.dialogAddEdit}},[n("JobAddEdit",{attrs:{data:e.editData},on:{cancel:function(){return e.dialogAddEdit=!1},finish:function(t){e.dialogAddEdit=!1,e.finishAddEdit(t)}}})],1),n("ih-dialog",{attrs:{show:e.dialogAssignRole}},[n("AssignRole",{attrs:{data:e.dialogAssignRole},on:{cancel:function(){return e.dialogAssignRole=!1},finish:function(t){e.dialogAssignRole=!1,e.finishAssignRole(t)}}})],1)],1)},a=[],i=(n("a434"),n("96cf"),n("1da1")),l=n("d4ec"),o=n("bee2"),s=n("262e"),u=n("2caf"),c=n("9ab4"),p=n("60a3"),d=n("2c89"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"dialog",staticStyle:{"text-align":"left"},attrs:{title:"岗位",visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.cancel,width:"800px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"名称",prop:"name"}},[n("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),n("el-form-item",{attrs:{label:"编码",prop:"code"}},[n("el-input",{model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),n("el-form-item",{attrs:{label:"描述",prop:"remark"}},[n("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"64"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish("ruleForm")}}},[e._v("确 定")])],1)],1)},g=[],m=n("9fed"),h=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.dialogVisible=!0,e.ruleForm={id:0,code:null,name:null,remark:null},e.rules={type:[{required:!0,message:"请选择类型",trigger:"change"}],name:[{required:!0,message:"请输入名称",trigger:"change"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"change"}],code:[{required:!0,message:"请输入编码",trigger:"change"},{min:1,max:16,message:"长度在 1 到 16 个字符",trigger:"change"}]},e}return Object(o["a"])(n,[{key:"cancel",value:function(){this.$emit("cancel",!1)}},{key:"finish",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs[t].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}if(console.log(n.ruleForm),!(n.ruleForm.id>0)){e.next=10;break}return e.next=5,Object(d["j"])(n.ruleForm);case 5:r=e.sent,n.$message.success("操作成功"),n.$emit("finish",r),e.next=15;break;case 10:return e.next=12,Object(d["e"])(n.ruleForm);case 12:a=e.sent,n.$message.success("操作成功."),n.$emit("finish",a);case 15:e.next=19;break;case 17:return n.$message.warning("请先填好数据"),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){console.log(this.data),this.ruleForm=this.data}},{key:"typeList",get:function(){return m["a"].getModular(),m["a"].modular}}]),n}(p["c"]);Object(c["a"])([Object(p["b"])({default:null})],h.prototype,"data",void 0),h=Object(c["a"])([Object(p["a"])({components:{}})],h);var b=h,v=b,y=n("2877"),w=Object(y["a"])(v,f,g,!1,null,"fdc16b5a",null),k=w.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"dialog",staticStyle:{"text-align":"left"},attrs:{title:"分配角色",visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.cancel,width:"1000px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"text-left dialog-transfer"},[n("el-transfer",{staticClass:"width--100",staticStyle:{height:"500px"},attrs:{titles:["可选数据","选中数据"],filterable:"","filter-method":e.filterMethod,"filter-placeholder":"角色名称 编码",data:e.leftData},model:{value:e.rightData,callback:function(t){e.rightData=t},expression:"rightData"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish()}}},[e._v("确 定")])],1)])},O=[],j=(n("4160"),n("c975"),n("b0c0"),n("159b"),n("5aea")),R=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.call(this),e.dialogVisible=!0,e.leftData=[],e.rightData=[],e}return Object(o["a"])(n,[{key:"generateData",value:function(){var e=[],t=["上海","北京","广州","深圳","南京","西安","成都"],n=["shanghai","beijing","guangzhou","shenzhen","nanjing","xian","chengdu"];return t.forEach((function(t,r){e.push({label:t,key:r,pinyin:n[r]})})),e}},{key:"filterMethod",value:function(e,t){return t.code.indexOf(e)>-1||t.name.indexOf(e)>-1}},{key:"cancel",value:function(){this.$emit("cancel",!1)}},{key:"finish",value:function(){this.$emit("finish",{})}},{key:"created",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.data),e.next=3,Object(j["b"])();case 3:t=e.sent,n=t.total,r=t.list,r.forEach((function(e){e.key=e.id,e.label=e.name})),console.log(n,r),this.leftData=r;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(p["c"]);Object(c["a"])([Object(p["b"])({default:null})],R.prototype,"data",void 0),R=Object(c["a"])([Object(p["a"])({components:{}})],R);var A=R,P=A,$=(n("2c20"),Object(y["a"])(P,x,O,!1,null,null,null)),D=$.exports,_=n("768d"),C=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.queryPageParameters={key:null},e.resPageInfo={total:0,list:[]},e.editData=null,e.dialogAddEdit=!1,e.dialogAssignRole=!1,e}return Object(o["a"])(n,[{key:"getListMixin",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["g"])(this.queryPageParameters);case 2:this.resPageInfo=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),this.editData=t,this.dialogAddEdit=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"edit",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),this.add(t.row);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,this.$confirm("是否确定删除?","提示");case 4:return e.next=6,Object(d["f"])({id:t.row.id});case 6:n=e.sent,console.log(n),this.resPageInfo.list.splice(t.$index,1),this.$message({type:"success",message:"删除成功!"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"info",value:function(e){console.log(e),this.$router.push({path:"/job/info",query:{id:e.row.id}})}},{key:"assignRole",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),this.dialogAssignRole=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"finishAddEdit",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getListMixin(),console.log(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"finishAssignRole",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getListMixin();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(p["c"]);C=Object(c["a"])([Object(p["a"])({components:{JobAddEdit:k,AssignRole:D},mixins:[_["a"]]})],C);var F=C,M=F,E=Object(y["a"])(M,r,a,!1,null,"2e91529b",null);t["default"]=E.exports}}]);
//# sourceMappingURL=chunk-1c24d9b5.d979c97a.js.map